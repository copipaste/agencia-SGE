
spring.application.name=agencia-backend

# Server configuration
server.port=${SERVER_PORT:8080}

# MongoDB Atlas connection (cloud)
spring.data.mongodb.uri=${MONGODB_URI:mongodb+srv://agencia_user:uagrm2025@agencia-database.8n7ayzu.mongodb.net/?appName=agencia-database}
spring.data.mongodb.database=agencia_viajes

# GraphQL configuration
spring.graphql.graphiql.enabled=true
spring.graphql.graphiql.path=/graphiql
spring.graphql.path=/graphql
spring.graphql.schema.printer.enabled=true

# CORS for GraphQL (allow Angular frontend by default)
spring.graphql.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200}
spring.graphql.cors.allowed-methods=GET,POST
spring.graphql.cors.allowed-headers=*

# JWT configuration
jwt.secret=${JWT_SECRET:tu_clave_secreta_super_segura_cambiala_en_produccion}
jwt.expiration=86400000

# n8n webhook URL used by NotificacionService
webhook.n8n.url=https://agenciadeviajes.app.n8n.cloud/webhook/trigger-notificacacion-gmail-whatsapp

# Business Intelligence (BI) service configuration
bi.service.base-url=${BI_BASE_URL:https://sw2-servicio-bi.onrender.com}
bi.service.auth-token=${BI_AUTH_TOKEN:}
bi.service.timeout=${BI_TIMEOUT:10000}
bi.service.max-retries=${BI_MAX_RETRIES:2}
bi.service.retry-delay=${BI_RETRY_DELAY:1000}

# Logging
logging.level.org.springframework.security=DEBUG
logging.level.com.agencia=DEBUG
logging.level.org.springframework.graphql=DEBUG

# ============================================
# Configuraci�n de Microservicios de IA
# ============================================
# URL del microservicio de predicci�n de cancelaciones (FastAPI)
#ia.cancelacion.url=http://localhost:8001
ia.cancelacion.url=http://45.55.106.24

# Scheduled tasks
spring.task.scheduling.enabled=true

# Optional Spring Mail settings (uncomment to enable)
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=tu_email@gmail.com
# spring.mail.password=tu_app_password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true


